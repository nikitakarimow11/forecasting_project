# Прогнозирование активности пользователей

## Описание проекта

В этом проекте проведено прогнозирование активности пользователей социальной сети на основе временных рядов. Данные включают в себя действия пользователей (просмотры, лайки, посты и сообщения), агрегированные по дням. Прогноз выполнен с использованием библиотеки Orbit от Uber.

## Источник данных

Данные извлекались из ClickHouse с помощью SQL-запросов к таблицам:

- `simulator_20250220.feed_actions`
- `simulator_20250220.message_actions`

Полученные метрики:

- `dau` — количество уникальных пользователей в день
- `actions` — общее число действий
- `posts` — количество уникальных постов
- `messages` — число отправленных сообщений
- `all_activities` — сумма всех действий: actions + messages

Также была добавлена бинарная метка `anomaly` на период флешмоба (с 2025-02-14 по 2025-02-20).

## Используемые технологии

- Python 3
- ClickHouse + pandahouse — подключение и загрузка данных
- pandas / numpy / seaborn / matplotlib — анализ и визуализация
- orbit — построение моделей временных рядов
- arviz — байесовская диагностика моделей

## Построение моделей

Обучено 6 моделей на базе DLT (Dynamic Linear Trend):

1. Линейный тренд
2. Лог-линейный тренд
3. Линейный тренд + `DAU` как регрессор
4. Лог-линейный тренд + `DAU` как регрессор
5. Линейный тренд + `DAU` + `anomaly`
6. Лог-линейный тренд + `DAU` + `anomaly`

Прогноз строился на 30 дней вперёд.

## Оценка моделей

Для оценки качества использовались метрики:

- SMAPE
- WMAPE
- MAPE
- MAE
- MSE
- RMSE
- WBIC (информационный байесовский критерий)

Результаты показали, что лучшей моделью является обычная модель с логлинейным трендом


